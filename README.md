<div align="center">

# 文件哈希值批量计算器 - HashCalculator

[![GitHub stars](https://img.shields.io/github/stars/hrpzcf/HashCalculator?label=Stars&logo=github)](https://github.com/hrpzcf/HashCalculator/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/hrpzcf/HashCalculator?label=Forks&logo=github)](https://github.com/hrpzcf/HashCalculator/network)
[![GitHub issues](https://img.shields.io/github/issues/hrpzcf/HashCalculator?label=Issues&logo=github)](https://github.com/hrpzcf/HashCalculator/issues)
[![GitHub license](https://img.shields.io/github/license/hrpzcf/HashCalculator?color=red&label=License)](https://github.com/hrpzcf/HashCalculator/blob/main/LICENSE)
[![GitHub license](https://img.shields.io/github/v/release/hrpzcf/HashCalculator?label=Release)](https://github.com/hrpzcf/HashCalculator/releases)

</div>

本软件是开源软件，遵守 [GNU General Public License v3.0](https://github.com/hrpzcf/HashCalculator/blob/main/LICENSE.txt) 开源协议，源代码托管在 [GitHub](https://github.com/hrpzcf/HashCalculator) 和 [Gitee](https://gitee.com/hrpzcf/HashCalculator) 上。  
本软件主要是为了大批量计算、批量校验文件的哈希值而设计，支持计算文件的 SHA1、SHA224、SHA256、SHA384、SHA512、MD5 哈希值，哈希值的输出方式可选择 Base64、16 进制大小写。  

##### 适用用户：

+   需要对文件夹下大量文件名混乱的文件计算哈希值以找出相同文件的用户
+   需要快速对一批文件生成哈希值并发布的用户
+   需要快速校验一批文件的哈希值是否与文件发布者公布的哈希值一致的用户
+   等等...

<br />

# 常用功能使用方法

+   ## 批量计算文件哈希值
    
    1.  可选步骤：在左上角的"默认哈希算法"下拉列表中选择您要计算的哈希值类型，然后在"默认输出方式"下拉列表中选择你想要以什么方式显示计算得到的哈希值，一般 16 进制大小写都是常用的。
    2.  必选步骤：选定要计算哈希值的文件。您可以将多个文件、文件夹直接拖入主界面的表格中，或者点击上方"选择文件"、"选择文件夹"按钮（一般是第一二个按钮）选择文件或文件夹。
    3.  等待结果：上一个步骤选择的文件会被自动添加到主界面的表格中等待被计算，计算完成后会在表格的"算法"列中显示计算该文件所用的哈希算法，在"哈希值"列中显示计算的结果，在"输出方式"列中显示该哈希值是以什么格式显示的，您可以点击该列的下拉列表更改哈希值显示格式。
    4.  可选步骤：点击"导出哈希值"按钮。完成所有文件的计算后，此按钮变为可用状态，点击后会弹出储存位置选择对话框，选择合适位置点击确定保存即可，表格中"导出"列被勾选且计算成功的行的哈希值和文件名都将被导出到文本文件中。
    5.  可选步骤：点击"校验"按钮。如果你在第 2 个步骤中选择的是别人发布的文件，而你想要校验你下载的这些文件与别人公布的文件哈希值是否一致，那你可以：
        +   对于单个文件：复制网页上公布的哈希值，粘贴到本程序的"校验依据"输入框中，然后点击后面的"校验"按钮，表格中的"校验结果列"将会显示代表校验结果的颜色。
        +   对于多个文件：文件的发布者一般会随着文件发布一个包含文件哈希值和文件名的文本文件，点击"校验依据"后的"..."按钮，选择该哈希值文件，或将该哈希值文件直接拖入"校验依据"输入框，然后点击后面的"校验"按钮，表格中的"校验结果列"将会显示代表校验结果的颜色。更快速的多个文件校验方法：[快速批量校验文件哈希值](#quick)。
        +   请注意！！！ 该包含"文件哈希值-文件名"的文本文件内容必须是通用排版格式，即每行都是 `6b86b273ff34fce19d6b804eff5a3f5747ada4eaa22f1d49c01e52ddb7875b4b *文件名` 这样的形式，且文件编码是 UTF-8，否则本程序将无法解析该哈希值文件的内容并完成校验。其中哈希值不区分大小写，星号可有可无。
    6.  "校验结果"列显示的颜色的含义
        +   校验结果显示绿色：该文件的哈希值与"校验依据"中的哈希值一致。
        +   校验结果显示红色：该文件的哈希值与"校验依据"中的哈希值不一致。
        +   校验结果显示灰色：该文件与"校验依据"没有关联。
        +   校验结果显示黑色：程序未能确认被校验文件的哈希值是否与校验依据中对应文件名指示的哈希值是否匹配。出现此结果的原因是校验依据文件中含有相同的文件名，且这些相同文件名指示的哈希值不一样。
        +   校验结果没有显示颜色：该行文件的哈希值结果还没有执行过校验操作。
    7.  查看校验报告：完成文件的哈希值计算后或者点击"校验"按钮后，将鼠标悬停在任意一行的"校验结果"列上，就会显示本次校验结果的汇总。
    
    <br/>

+   ## 快速批量校验文件哈希值
    
    当你需要批量校验已下载的一批文件的哈希值时，如果这些文件的发布者提供了包含这些文件哈希值的文本文件(以下称 hashsums 文件)，且该哈希值文件是通用格式（参考以上[请注意！！！](#importance)处的描述）的文本文件，则可以使用此功能。使用此功能需要保证面板为空，如果表格有内容，可以通过"清空所有内容"按钮清空表格内容。
    1.  可选步骤：在左上角的"默认哈希算法"下拉列表中选择您要计算的哈希值类型，在"默认输出方式"下拉列表中选中要以什么格式显示哈希值，16 进制大写和小写都是常用的。
    2.  必选步骤：将 hashsums 拖入"校验依据"输入框中，或者点击输入框后的"..."按钮选择 hashsums 文件，然后点击"校验"按钮，程序会自动在 hashsums 文件同一目录下查找相应要被校验哈希值的文件，然后显示在表格中并完成计算、显示校验结果。
    3.  查看校验报告：参考[查看校验报告](#read_report)处的查看方法描述。

  <br/>

# 各按钮及设置项的功能描述

+   ## 主界面各按钮作用
    
      
    *将鼠标指针悬停在程序界面各个按钮、输入框、下拉列表等控件上都能显示相应的按钮名称和功能描述等内容。*
    
    1.  "默认哈希算法"下拉列表：选择要计算文件的什么哈希值类型。
    2.  "默认输出方式"下拉列表：选择要以什么格式显示哈希计算结果，其中 16 进制大写和小写都是常用的。**请注意：不同的输出方式并不影响计算结果，它们只是同一个结果的不同表现方式。**
    3.  "选择文件"按钮：选择或多选要计算其哈希值的文件。
    4.  "选择文件夹"按钮：选择要计算其哈希值的一批文件所在的文件夹。
    5.  "清空所有内容"按钮：清空表格中显示的所有计算结果。
    6.  "新增哈希计算"按钮：根据"默认哈希算法"下拉列表所选算法，计算表格中所有文件的哈希值，但不清除原来的计算结果，而是增加新的行来显示结果。这对于需要对同一个文件计算多个类型的哈希值时很有用。
    7.  "计算未完成项"按钮：根据"默认哈希算法"下拉列表所选算法，清空表格内容并重新计算表格中所有文件的哈希值。
    8.  "全部重新计算"按钮：根据"默认哈希算法"下拉列表所选算法，重新计算表格中所有文件的哈希值。
    9.  "导出哈希值"按钮：将表格中所有文件的哈希计算结果导出为文本文件 导出的内容使用的输出方式受到"默认输出方式"的控制而不受各文件自己的"输出方式"的控制 没有计算结果的行不会被导出，"导出"列没有勾选的行也不会被导出。
    10.  "刷新输出方式"按钮：以"默认输出方式"下拉列表选择的输出方式更新表格内所有行的"输出方式"列的哈希值显示方式。
    11.  "继续所有任务"按钮：继续所有已暂停的哈希值计算任务。
    12.  "暂停所有任务"按钮：暂停所有正在运行的哈希值计算任务（计算大量小文件时可能会暂停不成功，需要多次点击）。
    13.  "取消所有任务"按钮：取消所有排队中、运行中和已暂停的哈希值计算任务。
    14.  "切换窗口置顶"按钮：点击以在 \[置顶/非置顶\] 之间切换主窗口置顶状态。
    15.  "打开设置面板"按钮：点击打开设置面板...
    16.  "打开使用帮助"按钮：点击打开使用帮助页面...
    17.  主界面底部的"表格中的项目总数"图标：紧跟的数字代表显示在表格中的文件总数量。
    18.  主界面底部的"本次待计算队列中的项目总数"图标：紧跟的数字代表选择或拖入文件/文件夹后计划运行的任务总数，包括排队中、正在计算、已成功、已取消、已失败的任务。
    19.  主界面底部的"本次待计算队列已完成的项目数"图标：紧跟的数字代表选择或拖入文件/文件夹后已结束的任务数，包括已成功、已取消、已失败的任务。
    20.  主界面底部的"校验依据类型"下拉列表：选择合适选项以指定"校验依据"输入框内的内容是单个哈希值还是校验依据文件的路径。
    21.  主界面底部的"校验依据"输入框：用于输入要校验的哈希值或者 hashsums 校验依据文件的路径。
    22.  主界面底部的"..."按钮：选择 hashsums 文件并将路径显示在"校验依据"输入框内。
    23.  主界面底部的"校验"按钮：以"校验依据"输入框的单个哈希值或 hashsums 文件内的哈希值为准，与表格中的文件计算出来的哈希值对比并将对比结果显示在表格中的"校验结果"列。

<br/>

+   ## 右键菜单各个选项

    1. **打开文件**：以系统关联的打开方式打开选中的所有行对应的文件。
    2. **打开位置**：打开资源管理器并在资源管理器中选择所有选中行对应的文件。
    3. **复制路径**：将所有选中行对应的文件完整路径复制到剪贴板，复制后的格式是每行一个路径。
    4. **复制哈希值**
        - Base64：将所有选中行的哈希结果复制为 Base64 字符串格式。
        - 十六进制大写： 将所有选中行的哈希结果复制为十六进制字符串格式，字母大写。
        - 十六进制小写： 将所有选中行的哈希结果复制为十六进制字符串格式，字母小写。
    5. **复制哈希值**：将所有选中行的哈希结果复制为各行 **输出方式** 列指定的字符串格式，如果 **输出方式** 是 **没有指定** 则复制为 **默认输出方式** 指定的格式。
    6. **删除文件**：将所有选中的行从表格移除并永久删除对应的文件，删除文件前会显示确认删除对话框。
    7. **移除所选项**：将所有选中的行从表格移除，此选项不会影响实际的文件。
    8. **文件属性**：分别打开所有选中文件的系统 **文件属性** 对话框，请勿选中过多数量，否则将打开大量文件属性对话框。
    
<br/>

+   ## 设置面板各项作用
    
    1.  主窗口关闭时记住窗口位置：下次打开程序时从上次关闭时的位置显示窗口。
    2.  主窗口关闭时记住窗口大小：下次打开程序时以上次关闭时的大小显示窗口。
    3.  当拖入面板的对象包含文件夹时：拖入面板的对象包含文件也包含文件夹时，正常计算文件的哈希值，文件夹则使用以下规则：
        +   搜索一代子文件：对于拖入面板的文件夹，只搜索其直接子文件，而不搜索该文件夹内的文件夹。
        +   搜索全部子文件：对于拖入面板的文件夹，深入搜索其内的所有层级文件夹，获取其内的所有文件。
        +   不搜索该文件夹：如果拖入面板的对象是个文件夹，则略过该拖入的文件夹。
    4.  同时计算多少个文件的哈希值：选择合适的选项可以加快文件哈希值的计算速度，这里的"大小"是相对于硬盘的读取速度来说的。
        +   1 个 - 大多数文件很大：当大多数拖入面板或选择的文件都很大时使用此选项。
        +   2 个 - 大多数文件较大：当大多数拖入面板或选择的文件都较大时使用此选项。
        +   4 个 - 大多数文件较小：当大多数拖入面板或选择的文件都较小时使用此选项。
        +   8 个 - 大多数文件很小：当大多数拖入面板或选择的文件都很小时使用此选项。
    5.  使用快速校验时：
        +   搜索依据所在目录的一代子文件：只搜索 hashsums 文件所在文件夹的直接子文件。
        +   搜索依据所在目录的全部子文件：搜索 hashsums 文件所在文件夹下所有子孙文件夹的文件。
    6.  "在校验结果的色块中显示文字描述"：在表格的"校验结果列"列的色块中显示不同颜色代表的含义的文字描述。
    7.  "不显示“导出”列"：隐藏表格中的“导出”列以节省表格横向空间。
    8.  "不显示“运行时长”列"：隐藏表格中的“运行时长”列以节省表格横向空间。
    9.  "不显示“文件体积”列"：隐藏表格中的“文件体积”列以节省表格横向空间。

<br/>

# 可能出现的异常的含义

+   复制哈希值时弹出窗口显示"复制哈希值失败"：点击复制按钮过快或者偶发复制失败。
+   弹窗显示"意外的异常，可打开帮助页面末尾链接向开发者反馈"：程序意料之外的异常，可以到 [Gitee Issues](https://gitee.com/hrpzcf/HashCalculator/issues) 或 [GitHub Issues](https://github.com/hrpzcf/HashCalculator/issues) 或 [吾爱破解论坛](https://www.52pojie.cn/thread-1671702-1-1.html) 向开发者反馈问题。
+   在依据所在文件夹中找不到依据中列出的文件：请确认依据文件 hashsums 是否与要被计算哈希值的文件在同一个文件夹。如果要被计算哈希值的文件在比 hashsums 更深层的文件夹中，则请打开"设置"，检查"当使用快速校验时"是否选择了"搜索依据所在目录的所有子文件"选项。
+   要计算哈希值的文件不存在或无法访问：可能因为用户权限原因无法访问该要被计算哈希值的文件。
+   读取要被计算哈希值的文件失败或计算出错：打开要被计算哈希值的文件失败，或者计算该文件哈希值的过程中出现不可预料的错误。
